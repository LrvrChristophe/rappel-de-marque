<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Rappel de Marque</title>
<link rel="stylesheet" href="main.css">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#713e5a">
<link rel="icon" href="rappel-des-marques.png">



  
</head>
<body>
<div id="updateBanner" style="
display:none;
position:fixed;
top:0;
left:0;
width:100%;
background:#0F9D58;
color:white;
padding:14px 20px;
font-size:16px;
font-family:sans-serif;
box-shadow:0 2px 8px rgba(0,0,0,0.25);
z-index:9999;
display:flex;
justify-content:space-between;
align-items:center;
">
  <span>Nouvelle version disponible</span>
  <button onclick="refreshApp()" style="
    background:white;
    border:none;
    padding:8px 14px;
    border-radius:4px;
    color:#0F9D58;
    font-weight:bold;
    cursor:pointer;
    font-size:14px;">
    Mettre Ã  jour
  </button>
</div>

<h2>Rappel de Marque</h2>

<label>Ã‰tiquette 1</label>
<input id="v1" maxlength="12">

<label>Ã‰tiquette 2</label>
<input id="v2" maxlength="12">

<label>Ã‰tiquette 3</label>
<input id="v3" maxlength="12">

<label>Couleur fond</label>
<input type="color" id="bgColor" value="#713e5a">

<label>Couleur texte</label>
<input type="color" id="textColor" value="#d4ae77">

<h3>AperÃ§u</h3>

<div class="preview" id="p1"></div>
<div class="preview" id="p2"></div>
<div class="preview" id="p3"></div>

<br>

<button onclick="imprimer()">Imprimer</button>

<div id="updatePopup" style="display:none;position:fixed;bottom:20px;right:20px;padding:15px;background:#333;color:#fff;border-radius:10px;">
   Nouvelle version disponible ðŸš€
   <button onclick="refreshApp()" style="margin-left:10px;">Mettre Ã  jour</button>
</div>

<script>
function showUpdatePopup() {
  document.getElementById("updatePopup").style.display = "block";
}

function refreshApp() {
  window.location.reload(true);
}
</script>



  
<script src="app.js"></script>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/sw.js")
    .then(reg => {
      reg.onupdatefound = () => {
        const newWorker = reg.installing;

        newWorker.onstatechange = () => {
          if (newWorker.state === "installed" && navigator.serviceWorker.controller) {
            showUpdateBanner();
          }
        };
      };
    });
}

function showUpdateBanner() {
  document.getElementById("updateBanner").style.display = "flex";
}

function refreshApp() {
  navigator.serviceWorker.getRegistration().then(reg => {
    reg.waiting.postMessage({action:'skipWaiting'});
    window.location.reload();
  });
}
</script>

</body>
</html>

